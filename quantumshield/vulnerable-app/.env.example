# ============================================
# ShopVuln - Vulnerable E-Commerce Platform
# Environment Configuration
# ============================================

# ============================================
# WAF (Web Application Firewall) Integration
# ============================================

# Enable/Disable WAF Protection
# Set to 'true' to enable WAF protection, 'false' to test vulnerabilities
WAF_ENABLED=false

# WAF API Service Configuration
# If WAF_ENABLED=true, configure these settings to connect to QuantumShield WAF

# WAF API Service URL
# Default: http://localhost:8000 (if running WAF API service locally)
WAF_API_URL=http://localhost:8000

# WAF API Endpoint
# The endpoint path for WAF request processing
WAF_API_ENDPOINT=/api/waf/process

# WAF API Timeout (milliseconds)
# How long to wait for WAF response before allowing request
WAF_API_TIMEOUT=5000

# WAF API Authentication (if required)
# WAF_API_KEY=your-api-key-here
# WAF_API_SECRET=your-api-secret-here

# ============================================
# QuantumShield WAF Direct Integration
# ============================================

# Python WAF Module Path
# Path to QuantumShield application_layer module
# Example: C:\Users\Dell\Desktop\AITF_IPS\quantumshield
QUANTUMSHIELD_PATH=../quantumshield

# WAF Rules Directory
# Path to WAF rules directory (relative to QUANTUMSHIELD_PATH)
WAF_RULES_DIR=application_layer/waf/rules

# WAF Data Files Directory
# Path to WAF data files directory
WAF_DATA_FILES_DIR=application_layer/waf/data_files

# GeoIP Database Path (optional)
# Path to GeoIP2 database for geographic blocking
# GEOIP_DB_PATH=path/to/GeoLite2-Country.mmdb

# WAF Configuration
# Block requests on violation detection
WAF_BLOCK_ON_VIOLATION=true

# Capture full request/response for analysis
WAF_CAPTURE_REQUEST_RESPONSE=false

# Reports directory for WAF logs
WAF_REPORTS_DIR=./waf-reports

# ============================================
# Application Configuration
# ============================================

# Next.js Configuration
NEXT_PUBLIC_APP_URL=http://localhost:3000
NODE_ENV=development

# Database Configuration
# SQLite database file path (for persistent storage)
# Leave empty for in-memory database
DATABASE_PATH=./data/shopvuln.db

# Session Configuration
SESSION_SECRET=change-this-secret-key-in-production
SESSION_MAX_AGE=86400

# ============================================
# File Upload Configuration
# ============================================

# Maximum file upload size (in bytes)
# Default: 10MB
MAX_UPLOAD_SIZE=10485760

# Allowed file upload types
ALLOWED_UPLOAD_TYPES=image/jpeg,image/png,image/gif,image/webp

# Upload directory
UPLOAD_DIR=./public/uploads

# ============================================
# Security Testing Configuration
# ============================================

# Enable vulnerability warnings in responses
# Set to 'true' to show vulnerability warnings in API responses
SHOW_VULNERABILITY_WARNINGS=true

# Enable detailed error messages
# WARNING: This exposes sensitive information - only for testing!
SHOW_DETAILED_ERRORS=true

# ============================================
# External Services (for SSRF testing)
# ============================================

# Shipping API URL (vulnerable to SSRF)
SHIPPING_API_URL=https://api.shipping.com/track

# Payment Gateway URL
PAYMENT_GATEWAY_URL=https://api.payment.com/process

# ============================================
# Logging Configuration
# ============================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# Log file path
LOG_FILE=./logs/app.log

# ============================================
# Development/Testing
# ============================================

# Enable test mode (bypasses some checks)
TEST_MODE=true

# Mock external services (for offline testing)
MOCK_EXTERNAL_SERVICES=false
